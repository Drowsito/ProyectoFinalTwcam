# Usa una imagen de Java optimizada para producci贸n
FROM eclipse-temurin:17-jre-alpine

# Crea el directorio de trabajo dentro del contenedor
WORKDIR /app

# Copia el JAR generado (ajusta el nombre si es necesario)
COPY target/bicicletas-0.0.1-SNAPSHOT.jar app.jar

# Expone el puerto que usa tu aplicaci贸n
EXPOSE 8081

# Define variables de entorno para configuraci贸n externa (usaremos ConfigMaps/Secrets)
ENV SPRING_PROFILES_ACTIVE=prod

# Comando para ejecutar la aplicaci贸n
ENTRYPOINT ["java", "-jar", "app.jar"]
